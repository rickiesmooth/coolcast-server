# import Show, Episode, PodcastPlay, UserHistory, Playlist from "./generated/prisma.graphql"

type Query {
  me: User!
  users: [User!]!
  user(userId: ID!): User!
  shows(id: ID!): [Show!]
  playlists(id: ID!): [Playlist!]
  plays: [PodcastPlay!]!
}

type Mutation {
  authenticate(facebookToken: String!): AuthPayload!
  getPodcast(showId: String!): Show!
  followUser(userId: ID!): User
  addPlay(episodeId: ID!, showId: String!, sessionId: ID): PodcastPlay!
  addPlaylist(name: String!): Playlist!
  updatePlaylist(playlistId: ID!, episodeId: ID!): Playlist!
  removePlaylist(id: ID!): Playlist!
  deleteUser(userId: ID!): ID!
  updatePlay(sessionId: ID!, progress: Float!): PodcastPlay!
}

type AuthPayload {
  token: String
  user: User
}

type User {
  id: ID!
  name: String!
  email: String!
  fbid: String!
  following: [User]
  followers: [User] 
  history: UserHistory
  plays: [PodcastPlay!]!
  playlists: [Playlist]
}
